# OSPF
### Описание/Пошаговая инструкция выполнения домашнего задания:
1. Поднять три виртуалки.
2. Объединить их разными vlan.
3. поднять OSPF между машинами на базе Quagga;
- изобразить ассиметричный роутинг;
- сделать один из линков "дорогим", но что бы при этом роутинг был симметричным.

### Структура каталогов и файлов проекта. Краткое описание.
```
.
├── ansible
│   ├── ansible.cfg
│   ├── defaults
│   │   └── main.yml
│   ├── hosts
│   ├── provision.yml
│   └── templates
│       ├── daemons
│       └── frr.conf.j2
├── README.md
└── Vagrantfile
```
`Vagrantfile` - файл сценария для `Vagrant`. Создание виртуальных машин, установка ОС и первичная настройка. <br/>
`ansible/ansible.cfg` - конфигурационный файл `Ansible`. <br/>
`defaults/main.yml` - конфигурационный файл `Ansible`. Содержит переень переменных. <br/>
`provision.yml` - пьеса `Ansible`. Установка и настройка ПО, копирование конфигурационных файлов сервисов на ВМ. <br/>
`hosts` - файл инвентаризации `Ansible`. Содержит перечень хостов и переменных. <br/>
`templates/daemons` - файл конфигурации демонов. <br/>
`templates/frr.conf.j2` - jinja2 темплейт. Универсализация типовых шаблонов. <br/>

### Топология сети:
![image](https://github.com/shulgazavr/ospf/assets/105816449/17d6f10f-e7d3-4bc6-b9a1-a1c2ecac5145)

### Запуск, проверка проекта.
> Примечание: Для включения настройки симметричного роутинга, при создании ВМ, необходимо в файле [ansible/defaults/main](https://github.com/shulgazavr/ospf/blob/master/ansible/defaults/main.yml) изменить значение переменной `symmetric_routing` с `false` на `true`.

Из корневого каталога проекта:
```
vagrant up
```
После создания и настройки всех ВМ, с любой из них доступны сети:
- 192.168.10.0/24
- 192.168.20.0/24
- 192.168.30.0/24
- 10.0.10.0/30
- 10.0.11.0/30
- 10.0.13.0/30

Для изменения режима роутинга с симметричного на асимметричный или наоборот, небоходимо внести изменения в значение переменной `symmetric_routing` и выполнить из корневого каталога:
```
ansible-playbook -i ansible/hosts -l all ansible/provision.yml -t setup_ospf -e "host_key_checking=false"
```
